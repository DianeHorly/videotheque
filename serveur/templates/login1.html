{% extends "base.html" %}

{% block title %} Connexion {% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='CSS/styles.css') }}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
{% endblock %}

{% block content %}
<!-- Affichage des messages flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                <div class="alert {{ category }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

<!-- Formulaire de Connexion -->
<div class="connexion">
    <div class="form-box login">
        <h2>Connexion</h2>
        <form action="{{ url_for('login') }}" method="POST">
            <div class="input-box">
                <span class="icon">
                    <ion-icon name="person"></ion-icon>
                </span>
                <input type="text" name="username" required>
                <label>Nom d'utilisateur</label>
            </div>
            <div class="input-box">
                <span class="icon">
                    <ion-icon name="lock-closed-outline"></ion-icon>
                </span>
                <input type="password" name="password" required>
                <label>Mot de passe</label>
            </div>
            <div class="remember-forget">
                <label>
                    <input type="checkbox" name="remember"> Se souvenir de moi
                </label>
                <a href="#">Mot de passe oubli√© ?</a>
            </div>
            <button type="submit" class="btn">Se connecter</button>
            <div class="login-register">
                <p>Pas de compte ?  
                    <a href="{{ url_for('register') }}" class="register-link">Inscription</a>
                </p>
            </div>
        </form>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='JS/script.js') }}"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
{% endblock %}
